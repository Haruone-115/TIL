ToastOnModal と useContext の違いを解説
従来の Toast + ToastProvider の仕組み

```
┌─────────────────────────────────────────────────┐
│  ActivityDetectionWebhooks (index.tsx)          │
│  ┌───────────────────────────────────────────┐  │
│  │  ToastProvider ← Context を提供            │  │
│  │  ┌─────────────────────────────────────┐  │  │
│  │  │  WebhooksComponent                  │  │  │
│  │  │                                     │  │  │
│  │  │  useToastContext() ← 使える ✅      　│  │  │
│  │  │                                     │  │  │
│  │  │  ┌───────────────────────────────┐  │  │  │
│  │  │  │  EditWebhookModal (dialog)    │  │  │  │
│  │  │  │                               │  │  │  │
│  │  │  │  useToastContext() ← 使える ✅　│  │  │  │
│  │  │  │                               │  │  │  │
│  │  │  └───────────────────────────────┘  │  │  │
│  │  └─────────────────────────────────────┘  │  │
│  │                                           │  │
│  │  Toast表示エリア ← ここにトーストが出る        │  │
│  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
```

useToastContext() は ToastProvider の中ならどこでも使えます。これが Context API の便利なところです。

問題: dialog 要素の「top layer」
HTML の <dialog> 要素は特殊で、表示されると top layer という最上位レイヤーに移動します。

```
┌─────────────────────────────────────────────────┐
│  通常のDOM                                       │
│  ┌───────────────────────────────────────────┐  │
│  │  ToastProvider                            │  │
│  │  Toast表示エリア ← z-index: 9999 でも...    │  │
│  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
                ↑ 通常レイヤー
─────────────────────────────────────────────────────
                ↓ top layer（最上位、z-indexが効かない）
┌─────────────────────────────────────────────────┐
│  <dialog> (EditWebhookModal)                    │
│  ┌───────────────────────────────────────────┐  │
│  │  モーダルの内容                             │  │
│  │  ここで addToast() しても...                │  │
│  │  トーストは通常レイヤーに出る                　│  │
│  │  → dialog の下に隠れて見えない！ ❌           │  │
│  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
```

これが「top layer 問題」です。

解決策1: モーダル内に ToastProvider を追加
以前やっていた方法です。

```jsx
export const EditWebhookModal = (props: Props) => {
  return (
    <FullScreenModal>  {/* ← dialog要素 */}
      <ToastProvider>   {/* ← モーダル内専用のToastProvider */}
        <EditWebhookModalContent {...props} />
      </ToastProvider>
    </FullScreenModal>
  );
};
```

これでモーダル内にトーストが表示されます。ただし:

親の ToastProvider とは別物
モーダル内で addToast → モーダル内に表示
親で addToast → 親に表示（モーダルの下に隠れる）
二重構造になって複雑

解決策2: ToastOnModal を使う（現在の方法）
ToastOnModal は Context を使わないシンプルなコンポーネントです。

```jsx
// ToastOnModal は単なるコンポーネント
// 親から props を受け取って表示するだけ
<ToastOnModal variant="info" onClose={clearToast} autoHide>
  テスト送信しました
</ToastOnModal>
```

仕組み:

```
┌──────────────────────────────────────────────────┐
│  dialog (top layer)                              │
│  ┌────────────────────────────────────────────┐  │
│  │  EditWebhookModal                          │  │
│  │                                            │  │
│  │  const [toast, setToast] = useState()      │  │
│  │         ↑                                  │  │
│  │    普通の state で管理                       │  │
│  │         ↓                                  │  │
│  │  {toast && <ToastOnModal ... />}           │  │
│  │                ↓                           │  │
│  │  ┌──────────────────────────────────────┐  │  │
│  │  │  ToastOnModal                        │  │  │
│  │  │  (dialog内に直接表示される)             │  │  │
│  │  │  → ちゃんと見える！ ✅                  │  │  │
│  │  └──────────────────────────────────────┘  │  │
│  └────────────────────────────────────────────┘  │
└──────────────────────────────────────────────────┘
```

比較まとめ
|項目|Toast + ToastProvider|ToastOnModal|
|--|--|--|
|Context使用|使う|使わない|
|状態管理|ToastProvider 内部|親コンポーネントの useState|
|top layer 対応|要追加の ToastProvider|そのまま OK|
|複雑さ|二重構造になりがち|シンプル|
|使い方|addToast(<Toast>...)|setToast({message, variant})|

今回の使い分け

```
保存成功/エラー
  └→ addToast() を使う
  └→ モーダルを閉じた後に表示される
  └→ 親の ToastProvider で表示 ✅

テスト送信
  └→ setToast() を使う (useState)
  └→ モーダルは開いたまま表示したい
  └→ ToastOnModal でモーダル内に表示 ✅
```

これで Context の複雑さを避けつつ、両方のケースに対応できています。
