## undefined と null の違い

多くのプログラミング言語で「値がない」を表現する方法は、null など 1 通りです。しかし、JavaScript では「値がない」に相当する表現に null と undefined の 2 通りがあります。他の言語から JavaScript に来た人が驚き、使い分けに悩む部分です。

## 意味合いの違い

undefined と null は大きなくくりで「値がない」ことを意味する点は共通しています。意味的な違いがあるとしたら、undefined は「値が代入されていないため、値がない」、null は「代入すべき値が存在しないため、値がない」という微妙な違いです。

この意味的な違いを厳密につきつめてコーディングするのは、入門者には難しいものです。使い分けに客観的な基準があるわけではないためです。もしどちらを使うべきか迷ったら undefined を使っておくほうが無難です。

## 言語仕様上の違い

undefined と null には言語の仕様上の違いがあります。これは意味合いの違いのような漠然としたものではなく、はっきりと確認できるものです。

- null は自然発生しない

## undefined は変数

undefined も null もプリミティブ型の値という点は共通していますが、undefined は変数であり null はリテラルです。null はリテラルなので null という名前の変数を作ることはできません。一方で undefined はリテラルではなく変数なので、undefined という変数を作ることはできます。

## undefined と null の使い分け

undefined と null をどう使い分けたらいいかは大きな論争を呼ぶテーマです。プログラマーの中には、undefined だけを使うべきと言う人もいれば、null を使うべきという人もいます。また、undefined と null の意味合いの違いをしっかり理解して、使い分けるべきと主張する人もいます。逆に、深く考えすぎずに使うというスタンスの人もいます。

特にこだわりがないのなら、TypeScript では null は使わずに undefined をもっぱら使うようにするのがお勧めです。とは言っても、null を返す API がなくはないので、自分が新たにコードを書く部分においては、null は使わずに undefined にできるだけ寄せるといったイメージです。API が返す null を undefined に変換していってもいいですが、変換コードだらけになるような場合は、null をそのまま許容するといった折衷案もよいです。

## 使い分け意識を育てる労力は、それに見合うメリットが少ない

2 種類を使い分けるとなると、コードの各所でどちらを使うべきかの意思決定が必要になります。意思決定は個人作業ならまだしも、チームワークとなるとハードルが上がってきます。チームで「こういう場合は undefined を使うべき」「こういうときは null を使う」といったルールと具体例を共通認識として持つ必要がでてきます。共通認識が確立されていないと、コーディング中に質問が出てきたり、コードレビューで指摘されて手直しが発生したりと、あまり本質的でないところで開発が一時停止していまいがちです。

一方で、「null は使わず undefined に統一しよう」はシンプルなルールです。これなら共通認識として持つことがしやすく、チームワークもしやすくなります。実際に TypeScript の開発チームでは「null は使わない」というたった 1 行のシンプルなガイドラインを示し、数多くの開発者が参加しやすくなるようにしています。

## undefined に統一するほうが簡単

「値がない」ことを意味するものが undefined と null の 2 種類あることが混乱の元なので、どちらか一方を使うようにするほうがコーディング上の意思決定を減らせます。なので、null に寄せていく方法も考えられます。しかし、それはお勧めしません。undefined はいたるところで自然に発生してくるので、それらをすべて null にしようとすると、記述量がどんどん増えていくからです。

変数宣言で初期値を null にする程度なら簡単ですが、存在しないオブジェクトプロパティや配列要素にアクセスしたときにも null を返すようにするところまでやろうとすると難しくなってきます。したがって、統一するとしたら undefined に寄せるほうが現実的です。

## ほぼ全文

https://typescriptbook.jp/reference/values-types-variables/undefined-vs-null

# Usestate の初期値

`useState()` と、引数を設定せずに書くと、初期値は `undefined` になる
